{"version":3,"sources":["config.js","axios/index.js","components/hoc/styled.js","components/layout/AppHeader.js","components/layout/AppFooter.js","components/layout/Layout.js","components/shared/FormInput.js","components/shared/FormCheckbox.js","components/shared/FormSelect.js","components/shared/FormItem.js","components/hoc/withErrorHandler.js","store/actions.js","components/pages/FormPage.js","components/shared/ButtonDelete.js","utils/index.js","components/shared/FormConstructorItem.js","components/pages/FormConstructorPage.js","components/shared/FormListItem.js","components/shared/FormList.js","components/pages/FormListPage.js","components/shared/FlatTable.js","components/pages/FormStatsPage.js","components/pages/Error404Page.js","components/shared/CustomModal.js","components/shared/ModalWrapper.js","App.js","serviceWorker.js","store/reducers/draft.js","store/reducers/fills.js","store/reducers/forms.js","store/reducers/modals.js","store/reducers/index.js","index.js"],"names":["ENDPOINT","ITEMS_PER_TAKE","instance","axios","create","baseURL","interceptors","request","use","console","log","error","Promise","reject","response","styled","Component","style","options","styles","theme","root","withStyles","props","classes","className","other","classNames","AppHeader","AppBar","position","Toolbar","Grid","container","justify","alignItems","Typography","variant","component","withLink","Link","RouterLink","size","color","to","useStyles","makeStyles","appBar","top","textAlign","bottom","toolBar","justifyContent","paddingTop","fabButton","zIndex","left","right","margin","AppFooter","children","href","flexGrow","paddingBottom","Layout","Fragment","Container","onSubmit","Box","my","action","propTypes","PropTypes","bool","element","FormInput","type","id","name","label","placeholder","value","onChange","onBlur","FormControl","fullWidth","InputLabel","htmlFor","Input","aria-describedby","FormCheckbox","FormControlLabel","control","Checkbox","FormSelect","defaultOption","Select","inputProps","map","option","MenuItem","key","FormItem","length","checked","withErrorHandler","WrappedComponent","Comp","state","reqInterceptor","req","setState","resInterceptor","res","showModal","title","message","eject","this","connect","modals","dispatch","modal","payload","StyledPaper","Paper","padding","spacing","palette","text","secondary","FormPage","fields","filling","setNewFilling","forEach","field","items","default","handleChange","e","target","parseInt","send","preventDefault","match","params","data","post","then","catch","get","content","CircularProgress","Fab","disabled","React","forms","formsList","btn","onClick","IconButton","aria-label","fontSize","formatToSnakeCase","string","replace","split","word","toLowerCase","join","marginBottom","marginTop","border","borderColor","CenteredText","FormConstructorItem","types","updateDefaults","updated","o","i","defaults","updatedState","onOptionChange","index","updatedOptions","onDefaultChange","save","onTypeChange","undefined","addOption","deleteOption","filter","item","onFieldChange","elevation","Button","toString","FormConstructorPage","draft","put","history","push","clearDraft","addField","deleteField","updatedFields","handleFieldChange","handleNameChange","saveDraft","form","paper","divider","leftIcon","marginRight","FormListItem","xs","sm","lg","align","Divider","FormList","listItems","FormListPage","onFormsLoaded","list","table","minWidth","FlatTable","rows","columns","Object","keys","Table","TableHead","TableRow","column","TableCell","TableBody","row","Title","FormStatsPage","take","isAllLoaded","loadData","max","saveFills","getName","saveForm","onDestroy","fills","fillsList","formsDict","display","backgroundColor","background","boxShadow","shadows","closeButton","grey","CustomModal","open","handleClose","Modal","aria-labelledby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","closeModal","App","CssBaseline","path","process","exact","Error404Page","Boolean","window","location","hostname","initialState","reducer","formDraft","dict","reduce","obj","newObj","dictItem","combineReducers","fillsReducer","formsReducer","modalsReducer","draftReducer","store","createStore","rootReducer","app","basename","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.16a40f3b.chunk.js","sourcesContent":["export const ENDPOINT = 'http://forms-app.brutgroot.com/cousinzodin/';\r\n\r\nexport const ITEMS_PER_TAKE = 10;\r\n","import axios from 'axios';\r\nimport {ENDPOINT} from '../config';\r\n\r\nconst instance = axios.create({\r\n  baseURL: ENDPOINT,\r\n});\r\n\r\ninstance.interceptors.request.use(request => {\r\n  console.log(request);\r\n  return request;\r\n}, error => {\r\n  console.log(error);\r\n  return Promise.reject(error);\r\n});\r\n\r\ninstance.interceptors.response.use(response => {\r\n  console.log(response);\r\n  return response;\r\n}, error => {\r\n  console.log(error);\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default instance;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nexport default function styled(Component) {\r\n  return (style, options) => {\r\n    function StyledComponent(props) {\r\n      const { classes, className, ...other } = props;\r\n      return <Component className={classNames(classes.root, className)} {...other} />;\r\n    }\r\n    StyledComponent.propTypes = {\r\n      classes: PropTypes.object.isRequired,\r\n      className: PropTypes.string,\r\n    };\r\n    const styles =\r\n      typeof style === 'function' ? theme => ({ root: style(theme) }) : { root: style };\r\n    return withStyles(styles, options)(StyledComponent);\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {AppBar, Toolbar, Typography, Grid, Link} from '@material-ui/core/';\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\n\r\nexport default function AppHeader(props) {\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <Grid container justify=\"space-between\" alignItems=\"center\">\r\n          <Typography variant=\"h6\" component=\"h1\" >FormBuilder</Typography>\r\n          {props.withLink ?\r\n            <Link component={RouterLink} size=\"small\" color=\"inherit\" to=\"/\">My Forms</Link> : null}\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nAppHeader.propTypes = {\r\n  withLink: PropTypes.bool,\r\n}\r\n","import React from 'react';\r\n\r\nimport {AppBar, Toolbar, Link} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  appBar: {\r\n    top: 'auto',\r\n    textAlign: 'center',\r\n    bottom: 0,\r\n  },\r\n  toolBar: {\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n    paddingTop: \"20px\",\r\n  },\r\n  fabButton: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: -30,\r\n    left: 0,\r\n    right: 0,\r\n    margin: '0 auto',\r\n  },\r\n}));\r\n\r\nexport default function AppFooter(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar component=\"footer\" position=\"fixed\" color=\"default\" className={classes.appBar}>\r\n      <Toolbar className={classes.toolBar}>\r\n        <div className={classes.fabButton}>\r\n          {props.children}\r\n        </div>\r\n        <Link href=\"https://github.com/cousinzodin/form-builder\" color=\"textSecondary\">View on GitHub</Link>\r\n      </Toolbar>\r\n\r\n    </AppBar>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Box, Container} from '@material-ui/core/';\r\nimport AppHeader from './AppHeader';\r\nimport AppFooter from './AppFooter';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n    paddingBottom: '100px',\r\n  },\r\n}));\r\n\r\nexport default function Layout(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <AppHeader withLink={props.withLink} />\r\n      <Container component={props.component} onSubmit={props.onSubmit} className={classes.root}>\r\n        <Box my={2}>\r\n          {props.children}\r\n        </Box>\r\n\r\n        <AppFooter>\r\n          {props.action}\r\n        </AppFooter>\r\n      </Container>\r\n\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nAppHeader.propTypes = {\r\n  withLink: PropTypes.bool,\r\n  action: PropTypes.element,\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Input, FormControl, InputLabel} from '@material-ui/core/';\r\n\r\n\r\nexport default function FormInput(props) {\r\n  const {type, id, name, label, placeholder, value, onChange, onBlur} = props;\r\n\r\n  return (\r\n    <FormControl fullWidth margin=\"normal\">\r\n      <InputLabel htmlFor={id}>{label}</InputLabel>\r\n      <Input onChange={onChange} onBlur={onBlur} id={id} name={name} aria-describedby={placeholder} placeholder={placeholder} type={type} value={value}/>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nFormInput.propTypes = {\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  id: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  onChange: PropTypes.func,\r\n  onBlur: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {FormControl, Checkbox, FormControlLabel} from '@material-ui/core/';\r\n\r\nexport default function FormCheckbox(props) {\r\n  const {name, label, onChange} = props;\r\n\r\n  return (\r\n    <FormControl fullWidth margin=\"normal\">\r\n      <FormControlLabel\r\n        control={\r\n          <Checkbox\r\n            onChange={onChange}\r\n            value={name}\r\n            name={name}\r\n            id={name}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label={label}\r\n      /></FormControl>\r\n  );\r\n}\r\n\r\nFormCheckbox.propTypes = {\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  onChange: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core/';\r\n\r\nexport default function FormSelect(props) {\r\n  const {id, label, options, defaultOption, value, onChange} = props;\r\n\r\n  return (\r\n    <FormControl fullWidth margin=\"normal\">\r\n      <InputLabel htmlFor={id}>{label}</InputLabel>\r\n      <Select\r\n      onChange={onChange}\r\n        value={value || options[defaultOption].value}\r\n        inputProps={{\r\n          name: id,\r\n          id: id,\r\n        }}\r\n      >\r\n        {options.map(option => (<MenuItem key={option.value} value={option.value}>{option.name}</MenuItem>))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nFormSelect.propTypes = {\r\n  id: PropTypes.string,\r\n  label: PropTypes.string,\r\n  value: PropTypes.string,\r\n  defaultOption: PropTypes.number,\r\n  options: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    value: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.number,\r\n    ]),\r\n  })),\r\n  onChange: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FormInput from \"./FormInput\";\r\nimport FormCheckbox from \"./FormCheckbox\";\r\nimport FormSelect from \"./FormSelect\";\r\n\r\n\r\nexport default function FormItem(props) {\r\n  const {type, name, label, placeholder, options, defaultOption, onChange, value} = props;\r\n\r\n  switch (type) {\r\n    case 'text':\r\n    case 'number':\r\n      return (\r\n        <FormInput onChange={onChange} label={label} id={name + \"-field\"} name={name} placeholder={placeholder} type={type} value={value} />\r\n      )\r\n    case 'dropdown':\r\n      return (options && options.length) ? <FormSelect onChange={onChange} label={label} id={name} options={options} value={value} defaultOption={defaultOption} /> : null;\r\n    case 'checkmark':\r\n      return (\r\n        <FormCheckbox onChange={onChange} label={label} name={name} value={name} checked={value} />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n\r\n}\r\n\r\nFormItem.propTypes = {\r\n  id: PropTypes.string,\r\n  label: PropTypes.string,\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.bool\r\n  ]),\r\n  checked: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  defaultOption: PropTypes.number,\r\n  options: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    value: PropTypes.string\r\n  })),\r\n  onChange: PropTypes.func\r\n};\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n  class Comp extends Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        error: null\r\n      }\r\n      this.reqInterceptor = axios.interceptors.request.use(req => {\r\n        this.setState({error: null});\r\n        return req;\r\n      });\r\n      this.resInterceptor = axios.interceptors.response.use(res => res, error => {\r\n        this.setState({error: error});\r\n        this.props.showModal({title: \"Something went wrong\", message: error.message});\r\n      });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      axios.interceptors.request.eject(this.reqInterceptor);\r\n      axios.interceptors.response.eject(this.resInterceptor);\r\n    }\r\n\r\n\r\n    render() {\r\n      return (\r\n        <WrappedComponent error={this.state.error} {...this.props} axios={axios} />\r\n      );\r\n    }\r\n  }\r\n\r\n  return connect(\r\n    function mapStateToProps(state) {\r\n      return {\r\n        modals: state.modals.modals\r\n      };\r\n    },\r\n    function mapDispatchToProps(dispatch) {\r\n      return {\r\n        showModal: (modal) => dispatch({type: actionTypes.SHOW_MODAL, payload: modal}),\r\n        //closeModal: (id) => dispatch({type: actionTypes.CLOSE_MODAL, payload: id})\r\n      }\r\n    }\r\n  )(Comp)\r\n}\r\n\r\nexport default withErrorHandler;\r\n\r\n","export const ADD_FORM_LIST = \"ADD_FORM_LIST\";\r\nexport const CLEAR_FORM_LIST = \"CLEAR_FORM_LIST\";\r\n\r\nexport const ADD_FILL_LIST = \"ADD_FILL_LIST\";\r\nexport const CLEAR_FILL_LIST = \"CLEAR_FILL_LIST\";\r\n\r\nexport const SHOW_MODAL = \"OPEN_MODAL\";\r\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\r\n\r\nexport const ADD_FORM = \"ADD_FORM\";\r\n\r\nexport const SAVE_FORM_DRAFT = \"SAVE_FORM_DRAFT\";\r\nexport const CLEAR_FORM_DRAFT = \"CLEAR_FORM_DRAFT\";\r\n","import React from 'react';\r\nimport axios from '../../axios';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\nimport styled from '../hoc/styled';\r\nimport {Paper, Fab, Typography, CircularProgress} from '@material-ui/core/';\r\nimport Layout from '../layout/Layout';\r\nimport FormItem from '../shared/FormItem';\r\nimport withErrorHandler from \"../hoc/withErrorHandler\";\r\n\r\n\r\nconst StyledPaper = styled(Paper)(theme => ({\r\n  padding: theme.spacing(2),\r\n  textAlign: 'left',\r\n  color: theme.palette.text.secondary,\r\n}));\r\n\r\n\r\nclass FormPage extends React.Component {\r\n  state = {name: \"\", fields: null, filling: null};\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    axios.get(\"forms/\" + id)\r\n      .then(response => {\r\n        this.setNewFilling(response.data.fields);\r\n        this.setState({name: response.data.name, fields: response.data.fields});\r\n      })\r\n      .catch(error => {});\r\n  }\r\n\r\n  setNewFilling = (fields) => {\r\n    const filling = {};\r\n    fields.forEach(field => {\r\n      filling[field.name] = field.type === \"dropdown\" && field.items && field.items.length ? field.items[field.default].value : field.type === \"checkmark\" ? false : \"\";\r\n    });\r\n    this.setState({filling: filling});\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const filling = {...this.state.filling};\r\n    switch (e.target.type) {\r\n      case 'number':\r\n        filling[e.target.name] = parseInt(e.target.value);\r\n        break;\r\n      case 'checkbox':\r\n        filling[e.target.value] = e.target.checked;\r\n        break;\r\n      default:\r\n        filling[e.target.name] = e.target.value;\r\n    }\r\n\r\n    this.setState({filling: filling});\r\n  }\r\n\r\n  send = (e) => {\r\n    e.preventDefault();\r\n    const id = this.props.match.params.id;\r\n    const data = {fields: this.state.filling};\r\n    axios.post(\"fills/\" + id, data)\r\n      .then(response => {\r\n        if(response.data.id) {\r\n          this.props.showModal({title: \"Form has been sent\"});\r\n          this.setNewFilling(this.state.fields);\r\n        }\r\n      })\r\n      .catch(error => {});\r\n  }\r\n\r\n  render() {\r\n    let content = this.props.error ? null : <CircularProgress />;\r\n    if (this.state.fields) {\r\n      content = <StyledPaper>\r\n        <Typography variant=\"h6\">{this.state.name}</Typography>\r\n        {this.state.fields.map(field => (<FormItem\r\n          value={this.state.filling[field.name]}\r\n          onChange={this.handleChange}\r\n          key={field.name}\r\n          type={field.type}\r\n          name={field.name}\r\n          label={field.label}\r\n          placeholder={field.placeholder}\r\n          options={field.items}\r\n          defaultOption={field.default} />))}\r\n\r\n      </StyledPaper>\r\n    }\r\n    return (\r\n      <Layout component=\"form\" onSubmit={this.send}\r\n        action={<Fab variant=\"extended\" color=\"secondary\" type=\"submit\" disabled={!this.state.fields}>Send form</Fab>}>\r\n        {content}\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    forms: state.formsList\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    showModal: (modal) => dispatch({type: actionTypes.SHOW_MODAL, payload: modal}),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(FormPage, axios));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {IconButton} from '@material-ui/core/';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  btn: {\r\n    position: \"absolute\",\r\n    top: '2px',\r\n    right: '2px',\r\n    zIndex: 10,\r\n    padding: '6px',\r\n  },\r\n}));\r\n\r\n\r\nexport default function FormInput(props) {\r\n  const classes = useStyles();\r\n  const {onClick} = props;\r\n\r\n  return (\r\n    <IconButton onClick={onClick} aria-label=\"delete\" className={classes.btn}>\r\n      <DeleteIcon fontSize=\"small\" />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nFormInput.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","export const formatToSnakeCase = string => {\r\n  return string.replace(/\\W+/g, \" \")\r\n    .split(/ |\\B(?=[A-Z])/)\r\n    .map(word => word.toLowerCase())\r\n    .join('_');\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from '../hoc/styled';\r\nimport FormInput from \"./FormInput\";\r\nimport ButtonDelete from \"./ButtonDelete\";\r\nimport FormSelect from \"./FormSelect\";\r\nimport {formatToSnakeCase} from \"../../utils\";\r\nimport {Button, Paper, Typography} from '@material-ui/core';\r\n\r\nconst StyledPaper = styled(Paper)(theme => ({\r\n  padding: theme.spacing(2),\r\n  paddingTop: 0,\r\n  marginBottom: theme.spacing(1),\r\n  marginTop: theme.spacing(1),\r\n  color: theme.palette.text.secondary,\r\n  border: '1px solid',\r\n  borderColor: theme.palette.text.secondary,\r\n  textAlign: 'left',\r\n  position: 'relative'\r\n}));\r\n\r\nconst CenteredText = styled(Typography)(theme => ({\r\n  textAlign: 'center',\r\n  paddingTop: theme.spacing(2),\r\n}));\r\n\r\n\r\nexport default class FormConstructorItem extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      type: props.type,\r\n      name: props.name,\r\n      placeholder: props.placeholder || \"\",\r\n      label: props.label,\r\n      items: props.items || [],\r\n      defaultOption: props.defaultOption || 0,\r\n      defaults: [],\r\n    }\r\n  }\r\n\r\n  types = [{name: 'Text', value: 'text'}, {name: 'Number', value: 'number'}, {name: 'Dropdown', value: 'dropdown'}, {name: 'Checkmark', value: 'checkmark'}];\r\n\r\n  componentDidMount() {\r\n    this.updateDefaults();\r\n  }\r\n\r\n  updateDefaults = () => {\r\n    const updated = this.state.items.map((o, i) => ({\r\n      name: o.name,\r\n      value: i,\r\n    }));\r\n    this.setState({defaults: updated});\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const {name, value} = e.target;\r\n    const updatedState = {};\r\n    updatedState[name] = name === \"name\" ? formatToSnakeCase(value) : value;\r\n    this.setState(updatedState);\r\n  }\r\n\r\n  onOptionChange = (e, index) => {\r\n    const {name, value} = e.target;\r\n    const updatedOptions = [...this.state.items];\r\n    updatedOptions[index][name] = name === \"value\" ? formatToSnakeCase(value) : value;\r\n    this.setState({items: updatedOptions});\r\n    this.updateDefaults();\r\n  }\r\n\r\n  onDefaultChange = (e) => {\r\n    const updatedState = {...this.state, defaultOption: e.target.value};\r\n    this.setState(updatedState);\r\n    this.save(updatedState);\r\n  }\r\n\r\n  onTypeChange = (e) => {\r\n    const {value} = e.target;\r\n    const updatedState = {...this.state, type: value};\r\n    if (value === \"dropdown\") {\r\n      updatedState.items = updatedState.items ? updatedState.items : [];\r\n    } else {\r\n      updatedState.items = undefined;\r\n    }\r\n    this.setState(updatedState);\r\n    this.save(updatedState);\r\n  }\r\n\r\n  addOption = () => {\r\n    this.setState({items: [...this.state.items, {name: \"\", value: \"\"}]});\r\n  }\r\n\r\n  deleteOption = value => {\r\n    const updatedOptions = this.state.items.filter(item => item.value !== value);\r\n    this.setState({items: updatedOptions});\r\n  }\r\n\r\n\r\n  save = (state) => {\r\n    const {type, name, label, placeholder, items, defaultOption} = state;\r\n    switch (type) {\r\n      case 'dropdown':\r\n        this.props.onFieldChange({type, name, label, items, default: defaultOption});\r\n        break;\r\n      case 'checkmark':\r\n        this.props.onFieldChange({type, name, label});\r\n        break;\r\n      default:\r\n        this.props.onFieldChange({type, name, label, placeholder});\r\n    }\r\n  }\r\n\r\n  onBlur = () => {\r\n    this.save(this.state);\r\n  }\r\n\r\n  render() {\r\n    const {type, name, label, placeholder, items, defaultOption} = this.state;\r\n    return (\r\n      <div>\r\n        <FormSelect onChange={this.onTypeChange} label=\"Field type\" name={\"type\"} options={this.types} value={type} defaultOption={defaultOption} />\r\n        <FormInput onChange={this.onChange} onBlur={this.onBlur} label=\"Label\" name={\"label\"} placeholder=\"My field\" type=\"text\" value={label} />\r\n        <FormInput onBlur={this.onBlur} onChange={this.onChange} label=\"Name\" name={\"name\"} placeholder=\"my-field\" type=\"text\" value={name} />\r\n        {type === 'text' || type === 'number' ? <FormInput onChange={this.onChange} onBlur={this.onBlur} label=\"Placeholder\" name={\"placeholder\"} placeholder=\"My helper text\" type=\"text\" value={placeholder} /> : null}\r\n        {type === 'dropdown' ?\r\n          <React.Fragment>\r\n            <CenteredText>Add or edit options for your dropdown</CenteredText>\r\n            {(items && items.length) ? items.map((option, index) => {\r\n              const i = index + 1;\r\n              return (<StyledPaper key={index} elevation={0}>\r\n                <ButtonDelete onClick={() => this.deleteOption(option.value)}/>\r\n                <FormInput onChange={(e) => this.onOptionChange(e, index)} onBlur={this.onBlur} label={\"Option \" + i + \" name\"} name=\"name\" id={\"option-name-field-\" + i} placeholder=\"Option name\" type=\"text\" value={option.name} />\r\n                <FormInput onChange={(e) => this.onOptionChange(e, index)} onBlur={this.onBlur} label={\"Option \" + i + \" value\"} name=\"value\" id={\"option-value-field-\" + i} placeholder=\"option-value\" type=\"text\" value={option.value} />\r\n              </StyledPaper>)\r\n            }) : null}\r\n            <CenteredText>\r\n              <Button onClick={this.addOption} size=\"small\" variant=\"contained\" color=\"primary\">+ Add option</Button>\r\n            </CenteredText>\r\n            {(items && items.length > 1) ? <FormSelect onChange={this.onDefaultChange} label=\"Select default option\" value={defaultOption.toString()} id={\"default\"} options={this.state.defaults} defaultOption={0} /> : null}\r\n          </React.Fragment>\r\n          : null\r\n        }\r\n      </div >\r\n\r\n\r\n    )\r\n  }\r\n}\r\n\r\nFormConstructorItem.propTypes = {\r\n  id: PropTypes.string,\r\n  label: PropTypes.string,\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  defaultOption: PropTypes.string,\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    value: PropTypes.string\r\n  })),\r\n  onFieldChange: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport axios from '../../axios';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\nimport {Paper, Fab, Button, CircularProgress} from '@material-ui/core/';\r\nimport styled from '../hoc/styled';\r\nimport Layout from '../layout/Layout';\r\n//import FormItem from '../shared/FormItem';\r\nimport FormConstructorItem from '../shared/FormConstructorItem';\r\nimport FormInput from '../shared/FormInput';\r\nimport ButtonDelete from \"../shared/ButtonDelete\";\r\nimport withErrorHandler from \"../hoc/withErrorHandler\";\r\n\r\nconst StyledPaper = styled(Paper)(theme => ({\r\n  padding: theme.spacing(2),\r\n  paddingTop: 0,\r\n  marginBottom: theme.spacing(2),\r\n  marginTop: theme.spacing(2),\r\n  color: theme.palette.text.secondary,\r\n  textAlign: 'left',\r\n  position: 'relative'\r\n}));\r\n\r\nclass FormConstructorPage extends React.Component {\r\n  id = this.props.match.params.id\r\n  state = this.props.match.params.id ? {name: \"\", fields: null} : this.props.draft;\r\n\r\n  componentDidMount() {\r\n    if (this.id) {\r\n      axios.get(\"fills/\" + this.id)\r\n        .then(response => {\r\n          if (response.data.length > 0) {\r\n            this.props.showModal({title: \"You can't edit this form\", message: \"This form has already been filled\"});\r\n            this.props.history.replace(\"/form/\" + this.id);\r\n            return;\r\n          } else {\r\n            axios.get(\"forms/\" + this.id)\r\n              .then(response => {\r\n                this.setState({name: response.data.name, fields: response.data.fields});\r\n              })\r\n              .catch(error => {});\r\n          }\r\n        })\r\n        .catch(error => {});\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.saveDraft(this.state);\r\n  }\r\n\r\n  save = (e) => {\r\n    e.preventDefault();\r\n    const id = this.props.match.params.id;\r\n    console.log(\"save\", this.state, id);\r\n    if (id) {\r\n      axios.put(\"forms/\" + id, this.state)\r\n        .then(response => {\r\n          console.log(response);\r\n          if (response) {\r\n            this.props.showModal({title: \"Form has been saved\"});\r\n            this.props.history.push(\"/\");\r\n          }\r\n        })\r\n        .catch(error => {});\r\n    } else {\r\n      axios.post(\"forms/new\", this.state)\r\n        .then(response => {\r\n          console.log(response);\r\n          if (response.data.id) {\r\n            this.props.showModal({title: \"Form has been saved\"});\r\n            this.props.clearDraft();\r\n            this.props.history.push(\"/\")\r\n          }\r\n        }).catch(error => {});\r\n    }\r\n  }\r\n\r\n  addField = () => {\r\n    const newField = {\r\n      type: \"text\",\r\n      name: \"\",\r\n      label: \"\",\r\n      placeholder: \"\",\r\n    }\r\n    this.setState({fields: [...this.state.fields, newField]});\r\n  }\r\n\r\n  deleteField = name => {\r\n    const updatedFields = this.state.fields.filter(item => item.name !== name);\r\n    console.log(\"delete\", name, updatedFields);\r\n    this.setState({fields: updatedFields});\r\n  }\r\n\r\n  handleFieldChange = (field, index) => {\r\n    // console.log(field);\r\n    const updatedFields = [...this.state.fields];\r\n    updatedFields[index] = field;\r\n    this.setState({fields: updatedFields});\r\n    // console.log(updatedFields);\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({name: e.target.value});\r\n  }\r\n\r\n  render() {\r\n    let content = this.props.error ? null : <CircularProgress />;\r\n    if (this.state && this.state.fields) {\r\n      content =\r\n        <React.Fragment>\r\n          <StyledPaper>\r\n            <FormInput onChange={this.handleNameChange} label=\"Form title\" id=\"new-form-title-field\" placeholder=\"My new form\" value={this.state.name} />\r\n          </StyledPaper>\r\n          {this.state.fields.map((field, index) => (\r\n            <StyledPaper key={field.name + index}>\r\n              <ButtonDelete onClick={() => this.deleteField(field.name)} />\r\n              <FormConstructorItem\r\n                onFieldChange={(field) => this.handleFieldChange(field, index)}\r\n                type={field.type}\r\n                name={field.name}\r\n                label={field.label}\r\n                placeholder={field.placeholder}\r\n                items={field.items}\r\n                default={field.default} />\r\n            </StyledPaper>\r\n          ))}\r\n          <Button onClick={this.addField} variant=\"contained\" color=\"primary\">+ Add new field</Button>\r\n        </React.Fragment>;\r\n    }\r\n    return (\r\n      <Layout component=\"form\" onSubmit={this.save} withLink action={<Fab variant=\"extended\" color=\"secondary\" type=\"submit\" disabled={!this.state.fields}> Save Form </Fab>}>\r\n        {content}\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    draft: state.draft.draft\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    showModal: (modal) => dispatch({type: actionTypes.SHOW_MODAL, payload: modal}),\r\n    saveDraft: (form) => dispatch({type: actionTypes.SAVE_FORM_DRAFT, payload: form}),\r\n    clearDraft: () => dispatch({type: actionTypes.CLEAR_FORM_DRAFT}),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(FormConstructorPage, axios));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Grid, Paper, Button, Typography, Divider} from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  divider: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n    fontSize: 14,\r\n  }\r\n}));\r\n\r\nexport default function FormListItem(props) {\r\n  const {id, name} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid item xs={12} sm={6} lg={4}>\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" align=\"left\">\r\n          <RouterLink to={\"./form/\" + id}>{id + \" : \" + name}</RouterLink>\r\n        </Typography>\r\n        <Divider className={classes.divider} />\r\n        <Grid container justify=\"space-between\" alignItems=\"center\">\r\n          <Button component={RouterLink} to={\"./constructor/\" + id} size=\"small\" color=\"primary\">\r\n            <EditIcon className={classes.leftIcon} />\r\n            Edit\r\n        </Button>\r\n\r\n          <Button component={RouterLink} to={'./form/stats/' + id} size=\"small\" color=\"default\">\r\n            Show History\r\n        </Button>\r\n        </Grid>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nFormListItem.propTypes = {\r\n  name: PropTypes.string,\r\n  id: PropTypes.number,\r\n};\r\n","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Grid} from '@material-ui/core/';\r\nimport FormListItem from './FormListItem';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nexport default function FormList(props) {\r\n  const classes = useStyles();\r\n  const {forms} = props;\r\n\r\n  const listItems = forms.map((form) =>\r\n    <FormListItem key={form.id} id={form.id} name={form.name} />\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={3}>\r\n        {listItems}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport axios from '../../axios';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport withErrorHandler from \"../hoc/withErrorHandler\";\r\nimport FormList from '../shared/FormList';\r\nimport Layout from '../layout/Layout';\r\nimport {Fab, CircularProgress, Typography} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nclass FormListPage extends React.Component {\r\n\r\n  componentDidMount() {\r\n    if (!this.props.forms) {\r\n      axios.get(\"forms/list\")\r\n        .then(response => {\r\n          this.props.onFormsLoaded(response.data);\r\n        })\r\n        .catch(error => {});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let content = this.props.error ? null : <CircularProgress />;\r\n    if (this.props.forms) {\r\n      content = this.props.forms.length ? <FormList forms={this.props.forms} /> : <Typography >You have no forms yet</Typography >\r\n    }\r\n    return (\r\n      <Layout withLink action={<Fab to=\"/constructor\" component={RouterLink} color=\"secondary\" aria-label=\"add\">\r\n        <AddIcon /></Fab>}>\r\n        {content}\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    forms: state.forms.formsList\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFormsLoaded: (data) => dispatch({type: actionTypes.ADD_FORM_LIST, list: data}),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(FormListPage, axios));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Table, TableBody, TableCell, TableHead, TableRow} from '@material-ui/core/';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n}));\r\n\r\nexport default function FlatTable(props) {\r\n  const classes = useStyles();\r\n  const {rows} = props;\r\n  const columns = Object.keys(rows[0]);\r\n\r\n  return (\r\n    <Table className={classes.table}>\r\n      <TableHead>\r\n        <TableRow>\r\n          {columns.map(column => (<TableCell key={column}>{column}</TableCell>))}\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows.map(row => (\r\n          <TableRow key={row.id}>\r\n            {columns.map(column => (<TableCell key={row.id + column}>\r\n              {row[column] ? row[column].toString() : \"\"}\r\n            </TableCell>))}\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>);\r\n}\r\n\r\nFlatTable.propTypes = {\r\n  type: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n","import React from 'react';\r\nimport axios from '../../axios';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\nimport {ENDPOINT, ITEMS_PER_TAKE} from '../../config';\r\nimport styled from '../hoc/styled';\r\nimport {Typography, Paper, CircularProgress, Grid, Button} from '@material-ui/core/';\r\nimport Layout from '../layout/Layout';\r\nimport Table from '../shared/FlatTable';\r\nimport withErrorHandler from \"../hoc/withErrorHandler\";\r\n\r\n\r\nconst StyledPaper = styled(Paper)(theme => ({\r\n  marginTop: theme.spacing(2),\r\n  marginBottom: theme.spacing(2),\r\n  paddingBottom: theme.spacing(2),\r\n}));\r\n\r\nconst Title = styled(Typography)(theme => ({\r\n  padding: theme.spacing(2),\r\n}));\r\n\r\nclass FormStatsPage extends React.Component {\r\n\r\n  state = {take: 0, isAllLoaded: false};\r\n\r\n  loadData = () => {\r\n    const id = this.props.match.params.id;\r\n    const take = this.state.take;\r\n    const max = ITEMS_PER_TAKE;\r\n    axios.get(`fills/${id}?offset=${max * take}&count=${max}`)\r\n      .then(response => {\r\n        this.props.saveFills(response.data);\r\n        this.setState({take: this.state.take + 1, isAllLoaded: response.data.length < max});\r\n      })\r\n      .catch(error => {});\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n\r\n    this.loadData();\r\n\r\n    if (!this.getName()) {\r\n      axios.get(ENDPOINT + \"forms/\" + id)\r\n        .then(response => {\r\n          this.props.saveForm(response.data);\r\n        })\r\n        .catch(error => {});\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onDestroy();\r\n  }\r\n\r\n  getName = () => (this.props.forms && this.props.forms[this.props.match.params.id]) ? this.props.forms[this.props.match.params.id].name : \"\";\r\n\r\n  render() {\r\n    const name = this.getName();\r\n    let content = this.props.error ? null : <CircularProgress />;\r\n    if (this.props.fills) {\r\n      if (this.props.fills.length) {\r\n        const data = this.props.fills.map((item) => {\r\n          const id = item.id;\r\n          return {id, ...item.fields}\r\n        });\r\n        content = <Table rows={data} />;\r\n      } else {\r\n        content = <Typography>This form had not been filled yet</Typography >\r\n      }\r\n    }\r\n    return (\r\n      <Layout withLink>\r\n        <StyledPaper>\r\n          <Title variant=\"h6\" align=\"left\">\r\n            {name}\r\n          </Title>\r\n          {content}\r\n        </StyledPaper>\r\n        {this.props.fills && !this.state.isAllLoaded ? <Grid item xs={12}>\r\n          <Button onClick={this.loadData} variant=\"outlined\" size=\"small\" color=\"primary\">\r\n            Load More\r\n        </Button>\r\n        </Grid> : null}\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fills: state.fills.fillsList,\r\n    forms: state.forms.formsDict\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    saveFills: (data) => dispatch({type: actionTypes.ADD_FILL_LIST, list: data}),\r\n    saveForm: (data) => dispatch({type: actionTypes.ADD_FORM, payload: data}),\r\n    onDestroy: () => dispatch({type: actionTypes.CLEAR_FILL_LIST}),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(FormStatsPage, axios));\r\n","import React from 'react';\r\nimport Layout from '../layout/Layout';\r\nimport {Typography} from '@material-ui/core/';\r\n\r\n\r\nfunction FormPage() {\r\n  return (\r\n    <Layout>\r\n      <Typography>\r\n        Error 404: page not found\r\n    </Typography>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default FormPage;\r\n\r\n","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(4, 4, 3),\r\n    position: \"relative\",\r\n    textAlign: \"center\",\r\n    minWidth: \"260px\",\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(0.5),\r\n    top: theme.spacing(0.5),\r\n    padding: \"8px\",\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\n\r\nexport default function CustomModal(props) {\r\n  const {title, message, open, handleClose} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Modal\r\n      aria-labelledby=\"modal-title\"\r\n      aria-describedby=\"modal-description\"\r\n      className={classes.modal}\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={open}>\r\n        <div className={classes.paper}>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <h2 id=\"modal-title\">{title}</h2>\r\n          <p id=\"modal-description\">{message}</p>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Modal from './CustomModal';\r\nimport {connect} from 'react-redux';\r\nimport * as actionTypes from '../../store/actions';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const modals = props.modals.map(item =>\r\n    <Modal title={item.title} message={item.message} open={true} key={item.id} handleClose={() => props.closeModal(item.id)} />)\r\n  return (\r\n    <div className=\"modal-wrapper\">\r\n      {modals}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  function mapStateToProps(state) {\r\n    return {\r\n      modals: state.modals.modals\r\n    };\r\n  },\r\n  function mapDispatchToProps(dispatch) {\r\n    return {\r\n      closeModal: (id) => dispatch({type: actionTypes.CLOSE_MODAL, payload: id})\r\n    }\r\n  }\r\n)(ModalWrapper);\r\n","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {Route, Switch} from \"react-router-dom\";\nimport FormPage from './components/pages/FormPage';\nimport FormConstructorPage from './components/pages/FormConstructorPage';\nimport FormListPage from './components/pages/FormListPage';\nimport FormStatsPage from './components/pages/FormStatsPage';\nimport Error404Page from './components/pages/Error404Page';\nimport ModalWrapper from './components/shared/ModalWrapper';\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <Switch>\n        <Route path={`${process.env.PUBLIC_URL}/`} exact component={FormListPage} />\n        <Route path={`${process.env.PUBLIC_URL}/form/stats/:id`} component={FormStatsPage} />\n        <Route path={`${process.env.PUBLIC_URL}/form/:id`} component={FormPage} />\n        <Route path={`${process.env.PUBLIC_URL}/constructor/:id`} component={FormConstructorPage} />\n        <Route path={`${process.env.PUBLIC_URL}/constructor/\"`} component={FormConstructorPage} />\n        <Route component={Error404Page} />\n      </Switch>\n      <ModalWrapper />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions';\r\n\r\nconst initialState = {\r\n  draft: {\r\n    name: \"My new form\",\r\n    fields: [],\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case actionTypes.SAVE_FORM_DRAFT:\r\n      return {\r\n        draft: {\r\n          name: action.payload.name,\r\n          fields: action.payload.fields\r\n        }\r\n      };\r\n\r\n    case actionTypes.CLEAR_FORM_DRAFT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actions';\r\n\r\nconst initialState = {\r\n  fillsList: null,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_FILL_LIST:\r\n      return {\r\n        ...state,\r\n        fillsList: state.fillsList ? [...state.fillsList, ...action.list] : [...action.list],\r\n      };\r\n    case actionTypes.CLEAR_FILL_LIST:\r\n      return {\r\n        ...state,\r\n        fillsList: null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actions';\r\n\r\nconst initialState = {\r\n  formsList: null,\r\n  formsDict: {},\r\n  formDraft: {\r\n    name: \"My new form\",\r\n    fields: [],\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case actionTypes.ADD_FORM_LIST:\r\n      const dict = action.list.reduce((obj, item) => {\r\n        const newObj = {...obj};\r\n        newObj[item.id] = item;\r\n        return newObj;\r\n      }, {});\r\n      return {\r\n        ...state,\r\n        formsList: state.formsList ? [...state.formsList, ...action.list] : [...action.list],\r\n        formsDict: {...state.formsDict, ...dict},\r\n      };\r\n\r\n    case actionTypes.CLEAR_FORM_LIST:\r\n      return {...initialState};\r\n\r\n    case actionTypes.ADD_FORM:\r\n      const dictItem = {};\r\n      dictItem[action.payload.id] = action.payload;\r\n      return {\r\n        ...state,\r\n        formsDict: {...state.formsDict, ...dictItem},\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actions';\r\n\r\nconst initialState = {\r\n  modals: []\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SHOW_MODAL:\r\n        return {\r\n          modals: [...state.modals, {...action.payload, id: state.modals.length}],\r\n        };\r\n      case actionTypes.CLOSE_MODAL:\r\n        return {\r\n          modals: state.modals.filter(item => item.id !== action.payload),\r\n        };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import {combineReducers} from 'redux';\r\nimport draftReducer from \"./draft\";\r\nimport fillsReducer from \"./fills\";\r\nimport formsReducer from './forms';\r\nimport modalsReducer from './modals';\r\n\r\nconst reducer = combineReducers({fills: fillsReducer, forms: formsReducer, modals: modalsReducer, draft: draftReducer});\r\nexport default reducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {createStore} from 'redux';\nimport rootReducer from './store/reducers';\n\nconst store = createStore(rootReducer)\n\nconst app = (\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}